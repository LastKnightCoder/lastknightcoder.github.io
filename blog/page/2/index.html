<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Blog | 人生天地间，忽如远行客</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lastknightcoder.github.io//blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" property="og:title" content="Blog | 人生天地间，忽如远行客"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lastknightcoder.github.io//blog/page/2"><link data-rh="true" rel="alternate" href="https://lastknightcoder.github.io//blog/page/2" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://lastknightcoder.github.io//blog/page/2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="人生天地间，忽如远行客 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="人生天地间，忽如远行客 Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="人生天地间，忽如远行客 JSON Feed">



<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.e5b84600.css">
<link rel="preload" href="/assets/js/runtime~main.f5c0cd1b.js" as="script">
<link rel="preload" href="/assets/js/main.e1f02459.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA" height="60" width="60"><img src="/img/logo.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU" height="60" width="60"></div><b class="navbar__title text--truncate">Coder</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">前端开发</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/CSS/CSS介绍">CSS</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Slides</a><ul class="dropdown__menu"><li><a href="https://lastknightcoder.github.io/slides-flex/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Flex布局<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://lastknightcoder.github.io/slides-grid/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Grid布局<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://lastknightcoder.github.io/slides-svg/" target="_blank" rel="noopener noreferrer" class="dropdown__link">SVG<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://lastknightcoder.github.io/slides-dissertation/" target="_blank" rel="noopener noreferrer" class="dropdown__link">毕业论文<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/LastKnightCoder/lastknightcoder.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">所有的博客</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/mobile-text-middle">移动端文字垂直居中方案</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/MutationObserver">MutationObserver</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/IntersectionObserver">IntersectionObserver</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/selection-and-range">Selection与Range</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/css-animation-timer">使用CSS动画取代定时器</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/encodeURI与encodeURIComponent">encodeURI与encodeURIComponent</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/12/Rust生命周期">Rust生命周期</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/17/部署YOLOv5训练">部署YOLOv5训练</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/10/行内样式使用 important">行内样式使用 important</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/11/HTTP2之旅">HTTP2之旅</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/12/从手抄笔记到个人博客">从手抄笔记到个人博客</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/12/远程访问 jupyter">远程访问 jupyter</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/柯里化">柯里化</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/控制对象的访问">控制对象的访问</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/手写Promise">手写Promise</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/正则表达式">正则表达式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/防抖与节流">防抖与节流</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Ajax跨域">Ajax跨域</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/04/02/Stream">Stream</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/EventEmitter">EventEmitter</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Buffer">Buffer</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/10/08/小球会停下来吗">小球会停下来吗</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/encodeURI与encodeURIComponent">encodeURI与encodeURIComponent</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-08-10T00:00:00.000Z" itemprop="datePublished">2022年8月10日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://cdn.staticaly.com/gh/LastKnightCoder/ImgHosting3@master/wallhaven-8opwwy.3cbn7rc981c0.webp" alt="熊滔"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">熊滔</span></a></div><small class="avatar__subtitle" itemprop="description">前端工程师 @ 阿里巴巴</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><code>encodeURI</code> 与 <code>encodeURIComponent</code> 都是对 URI 进行编码的，由于 URI 仅支持 ASCII 字符，对于一些特殊的字符需要进行编码，例如汉字、<code>&amp;</code> 、<code>?</code> 等有意义的特殊符号。</p><ul><li><code>encodeURI</code> 不会对 <code>~!@#$&amp;*()=:/,;?+&#x27;</code> 这些特殊字符进行编码</li><li><code>encodeURIComponent</code> 不会对 <code>~!*()&#x27;</code> 这些特殊字符进行编码</li></ul><p>数字与字母（0-9，a-z，A-Z）是不会被编码的，<code>_-.~!*&#x27;()</code> 这些字符也不会被编码 。可以观察到二者的区别是 <code>encodeURIComponent</code> 会对更多的字符进行编码，而 <code>encodeURI</code> 对有些特殊字符不会编码，如 <code>&amp;, :, /</code>。</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/编码">编码</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/encode-uri">encodeURI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/encode-uri-component">encodeURIComponent</a></li></ul></div><div class="col text--right col--3"><a aria-label="阅读 encodeURI与encodeURIComponent 的全文" href="/blog/encodeURI与encodeURIComponent"><b>阅读更多</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/06/12/Rust生命周期">Rust生命周期</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-12T00:00:00.000Z" itemprop="datePublished">2022年6月12日</time> · <!-- -->阅读需 7 分钟</div></header><div class="markdown" itemprop="articleBody"><p>当我们借用一个变量时，如果变量被销毁，那么我们就不能通过该借用的引用访问数据，因为变量以及被销毁了，此时访问的数据是不可知的。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果我们尝试编译该代码，编译器将会给出错误</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">E0597</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `y` does not live long enough</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> hello5</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         </span><span class="token operator" style="color:#393A34">^</span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> borrowed value does not live long enough</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> `y` dropped here </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> still borrowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                  </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> borrow later used here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aborting due to previous error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">For</span><span class="token plain"> more information about this error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> `rustc </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">explain </span><span class="token constant" style="color:#36acaa">E0597</span><span class="token plain">`</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们使用 <code>x</code> 变量借用 <code>y</code> 的引用，但是在 <code>y</code> 变量销毁以后，<code>x</code> 变量就不能访问 <code>y</code> 的数据了，它是一个悬空指针。好在我们不需要担心这个问题，编译器可以找到问题并为我们解决。编译器要解决这个问题，就得知道变量的声明周期，例如上面 <code>x, y</code> 的声明周期。</p><p>但是如果函数返回一个引用的话，函数是不知道返回的变量的声明周期</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果我们尝试定义上面的函数，编译器会给出一个错误</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">E0106</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> missing lifetime specifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> hello6</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">33</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">               </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> expected named lifetime parameter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> help</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> this function</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;s</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token type-definition class-name">contains</span><span class="token plain"> a borrowed value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> but the signature does not say whether it is borrowed from `x` or `y`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">help</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> consider introducing a named lifetime parameter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           </span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">          </span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">          </span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aborting due to previous error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">For</span><span class="token plain"> more information about this error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> `rustc </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">explain </span><span class="token constant" style="color:#36acaa">E0106</span><span class="token plain">`</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这是因为编译器不知道返回的引用的生命周期，如果不知道生命周期的话，它就不能检测悬空指针的问题，所以编译就不会通过，我们需要指定返回的引用的生命周期。</p><p>为了避免这样的事情发生，在我们定义函数时，需要为变量添加生命周期标记，生命周期标记使用 <code>&#x27;</code> 开头，后面跟若干字符用于标记，一般我们使用单个字符，如 <code>&#x27;a, &#x27;b</code>。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面我们添加的 <code>&#x27;a, &#x27;b</code> 就是生命周期标记，对于方法中使用的标记，都要在方法名后的 <code>&lt;&gt;</code> 中声明，例如 <code>add&lt;&#x27;a, &#x27;b&gt;</code>，方法的输入分别被标记了不同的生命周期符号，<code>x: &amp;&#x27;a i32, y: &amp;&#x27;b i32</code> 表示它们具有不同的生命周期，返回的引用的生命周期时 <code>&#x27;a</code>，说明它与 <code>x: &amp;&#x27;a i32</code> 的生命周期相同。</p><p>具有这些信息，编译器就可以检测悬空指针的问题了。看下面的一个例子：</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_one</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>get_one</code> 函数接收两个 <code>i32</code> 的引用，分别声明了不同的生命周期，然后返回一个 <code>i32</code> 的引用，其生命周期为 <code>&#x27;b</code>，与第二个参数的生命周期相同。</p><p>然后我们在 <code>main</code> 函数中调用 <code>get_one</code>，分别传入 <code>&amp;x, &amp;y</code>，返回的引用赋值给 <code>z</code>，返回的引用的生命周期与第二个参数相同，也就是与 <code>y</code> 相同，那么我们就不能在 <code>y</code> 的生命周期之外访问 <code>z</code>，否则就会导致悬空指针的问题，但是上面的程序中我们在 <code>y</code> 所在的块之外访问了 <code>z</code>，所以会编译出错</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> unused variable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `x`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> hello6</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> help</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> this is intentional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prefix it with an underscore</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `_x`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> note</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `</span><span class="token attribute attr-name" style="color:#00a4db">#[warn(unused_variables)]</span><span class="token plain">` on by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">E0597</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `y` does not live long enough</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> hello6</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">21</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_one</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                     </span><span class="token operator" style="color:#393A34">^</span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> borrowed value does not live long enough</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> `y` dropped here </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> still borrowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                  </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> borrow later used here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aborting due to previous error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> warning emitted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">For</span><span class="token plain"> more information about this error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> `rustc </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">explain </span><span class="token constant" style="color:#36acaa">E0597</span><span class="token plain">`</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>给出的错误是说，<code>y</code> 已经被销毁了，但是在后面被引用的 <code>z</code> 使用了。</p><p>如果我们修改上面的函数为</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这个时候我们返回的引用的生命周期是 <code>&#x27;a</code>，与第一个参数的生命周期相同，这个时候我们调用函数，因为返回的引用的生命周期与 <code>x</code> 的生命周相同，在 <code>x</code> 被销毁以前都可以使用，所以程序可以正确编译。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> unused variable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `y`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> hello6</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">get_one</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;b</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                                </span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> help</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> this is intentional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prefix it with an underscore</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `_y`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> note</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `</span><span class="token attribute attr-name" style="color:#00a4db">#[warn(unused_variables)]</span><span class="token plain">` on by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> warning emitted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>程序正确打印出了 <code>x</code> 的值 <code>1</code>（当然还给出了一些警告，因为我们在 <code>get_one</code> 函数里面只用了 <code>x</code>，没有用 <code>y</code>）。</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/17/部署YOLOv5训练">部署YOLOv5训练</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-17T00:00:00.000Z" itemprop="datePublished">2022年5月17日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://cdn.staticaly.com/gh/LastKnightCoder/ImgHosting3@master/wallhaven-8opwwy.3cbn7rc981c0.webp" alt="熊滔"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">熊滔</span></a></div><small class="avatar__subtitle" itemprop="description">前端工程师 @ 阿里巴巴</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>下载<a href="https://github.com/ultralytics/yolov5/archive/refs/tags/v6.1.tar.gz" target="_blank" rel="noopener noreferrer">源码包</a>，解压</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/ultralytics/yolov5/archive/refs/tags/v6.1.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxvf yolov5-6.1.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>进入解压目录，安装依赖</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> yolov5-6.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -r requirements.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>下载预训练模型 <a href="https://github.com/ultralytics/yolov5/releases/download/v6.1/yolov5s6.pt" target="_blank" rel="noopener noreferrer">yolov5s6.pt</a>，在项目根目录新建 weights 文件夹，将下载的预训练模型放入。</p><p>使用 labelImg 标注自己的数据集，在项目根目录新建  datasets 文件夹，然后将数据集放入，datasets 文件夹的结构如下，每一个数据集都包含三个文件夹 <code>train, test, valid</code>，其中 <code>test</code> 文件夹不是必须的，每个文件夹都包含两个文件夹 <code>images</code> 和 <code>labels</code>，分别放置图片和标签。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">datasets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── multi-class-denoise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── train</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── one-class-denoise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── train</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── one-class-noise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── train</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── labels</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在根目录下的 data 文件夹下新建 <code>xxx.yaml</code> 训练配置文件，用以指定数据集的位置以及要识别的类别数目，一个参考如下 <code>data/one-class-denoise.yaml</code>：</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ../datasets/one</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">class</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">denoise  </span><span class="token comment" style="color:#999988;font-style:italic"># dataset root dir</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">train</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> train/images  </span><span class="token comment" style="color:#999988;font-style:italic"># train images (relative to &#x27;path&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">val</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> valid/images  </span><span class="token comment" style="color:#999988;font-style:italic"># val images (relative to &#x27;path&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test/images </span><span class="token comment" style="color:#999988;font-style:italic"># test images (optional)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Classes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1  </span><span class="token comment" style="color:#999988;font-style:italic"># number of classes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">names</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;obj&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># class names</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后就可以愉快的训练了</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 train.py --img </span><span class="token number" style="color:#36acaa">640</span><span class="token plain"> --batch </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> --epochs </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> --data ./data/one-class-denoise.yaml --cfg ./models/yolov5s.yaml --weights ./weights/yolov5s6.pt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>--img</code>：指定图片大小</li><li><code>--batch</code>：指定批量大小</li><li><code>--epochs</code>：指定训练轮次</li><li><code>--data</code>：指定训练配置文件地址</li><li><code>--cfg</code>：指定使用的模型</li><li><code>--weights</code>：指定使用的预训练权重</li></ul><p>训练的结果放在 <code>runs/train/</code> 下面，可以通过 <code>results.csv</code> 观察到训练结果，或者通过 <code>tensorboard</code> 观察结果 </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tensorboard --logdir runs/train --port </span><span class="token number" style="color:#36acaa">6009</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后在浏览器通过 <code>localhost:6009</code> 即可实时查看到训练结果。</p><p>在 <code>runs/train/exp/weights</code> 下保存着训练好的模型，有两个模型 <code>best.pt</code> 以及 <code>last.pt</code>，分别表示训练过程中最好的模型以及最后一个模型。我们随后便可使用训练好的模型进行推理</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 detect.py --source datasets/one-class-denoise/test/images/ --weights ./runs/train/exp/weights/best.pt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>--source</code>：指定要推理的图像来源，可以是具体的图片，也可以是视频，也可以存放图像的文件夹地址</li><li><code>--weights</code>：指定要使用的模型参数，使用指定训练好的 <code>best.pt</code> 或者 <code>last.pt</code></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/深度学习">深度学习</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/yolo">YOLO</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/目标检测">目标检测</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/04/10/行内样式使用 important">行内样式使用 important</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-04-10T00:00:00.000Z" itemprop="datePublished">2022年4月10日</time> · <!-- -->阅读需 1 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://cdn.staticaly.com/gh/LastKnightCoder/ImgHosting3@master/wallhaven-8opwwy.3cbn7rc981c0.webp" alt="熊滔"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">熊滔</span></a></div><small class="avatar__subtitle" itemprop="description">前端工程师 @ 阿里巴巴</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>React 不支持在行内样式设置 <code>!important</code></p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 无效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript literal-property property" style="color:#36acaa">fontSize</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript string" style="color:#e3116c">&#x27;20px !important&#x27;</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Hello World</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/react">React</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/css">CSS</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/important">\!important</a></li></ul></div><div class="col text--right col--3"><a aria-label="阅读 行内样式使用 important 的全文" href="/blog/2022/04/10/行内样式使用 important"><b>阅读更多</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/03/11/HTTP2之旅">HTTP2之旅</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-03-11T00:00:00.000Z" itemprop="datePublished">2022年3月11日</time> · <!-- -->阅读需 23 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>本篇文章翻译至 <a href="https://kamranahmed.info/blog/2016/08/13/http-in-depth/" target="_blank" rel="noopener noreferrer">https://kamranahmed.info/blog/2016/08/13/http-in-depth/</a></p><p>作者：Kamran Ahmed</p></div></div><p>HTTP 是每个开发者都知道的协议，因为所有的网页都在使用它，了解它绝对可以帮助你写出更好的应用。在这篇文章中，我会探讨 HTTP 是什么，它是如何形成的，以及未来又将如何。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="什么是-http">什么是 HTTP<a class="hash-link" href="#什么是-http" title="标题的直接链接">​</a></h2><p>首先需要探讨的是，什么是 <code>HTTP</code>？<code>HTTP</code> 是基于 <code>TCP/IP</code> 的应用层通信协议，它规定了客户端与服务器段之间如何通信。它定义了内容是如何在因特网上被请求和传输的。应用层协议只是一个抽象层协议，它规范了主机(客户端和服务器)是如何通信的，它本身依赖于 <code>TCP/IP</code> 来获得客户端和服务器之间的请求和响应。<code>HTTP</code> 默认使用 <code>80</code>   端口，但是也可以使用其他端口。<code>HTTPS</code> 使用 <code>443</code> 端口。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http09---只有一行1991">HTTP/0.9 - 只有一行(1991)<a class="hash-link" href="#http09---只有一行1991" title="标题的直接链接">​</a></h2><p><code>HTTP</code> 的第一个版本是 <code>HTTP/0.9</code>，于 1991 年被提出。它是最简单的协议，只有一个 <code>GET</code> 方法。如果客户端想要获取服务器上的一个网页，它可能发出如下请求</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /index.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>来自服务器的响应会是如下的形式</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(response body)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(connection closed)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也就是说，服务器获得请求之后，将 <code>HTML</code> 作为响应返回，一旦内容传送完毕，连接就会关闭。</p><p><code>HTTP/0.9</code> 有如下特点：</p><ul><li>没有头部</li><li>只允许 <code>GET</code> 方法</li><li>响应必须是 <code>HTML</code></li></ul><p>正如你所看到的，该协议除了成为未来的垫脚石外，真的没有其他内容。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http10--1996">HTTP/1.0 -1996<a class="hash-link" href="#http10--1996" title="标题的直接链接">​</a></h2><p>1996 年，<code>HTTP</code> 的下一个版本 <code>HTTP/1.0</code> 进化而出，它极大的改进了之前的版本。</p><p>不像 <code>HTTP/0.9</code> 被设计为只能返回 <code>HTML</code>，<code>HTTP/1.0</code> 可以处理其他类型的格式，例如图片、视频文件，文本或者其他内容。它添加了更多的方法(例如 <code>POST</code> 和 <code>HEAD</code>)，请求/响应格式也发生了改变，在请求和响应中添加了头部，在响应中添加了状态码，字符集的支持也被引入，<code>multi-part</code> 类型，认证，缓存，内容编码以及更多的东西被添加进来。</p><p><code>HTTP/1.0</code> 的请求的一个例子如下：</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET / HTTP/1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host: kamranahmed.info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User-Agent: Mpzilla/5.0 (Macintosh; Intel Mac OS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept: */*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>正如你所看到的，除了请求之外，客户端还发送了它的个人信息和需要的响应类型。这个在 <code>HTTP/0.9</code> 的客户端中是不会发送的，因为 <code>HTTP/0.9</code> 没有头部。</p><p>如上请求的一个响应可能如下：</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.0 200 OK </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: text/plain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Length: 137582</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expires: Thu, 05 Dec 1997 16:00:00 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last-Modified: Wed, 5 August 1996 15:55:28 GMT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Server: Apache 0.84</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(response body)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(connection closed)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在响应的最开始是 <code>HTTP/1.0</code> (跟在 <code>HTTP</code> 后面的数字表示版本号)，然后是状态码 <code>200</code>，然后是状态信息(你也可以成为是状态吗的描述)。</p><p>在这个版本中，请求和响应中的头部都必须以 <code>ASCII</code> 编码，但是响应体可以是任何的类型，例如图像、视频、<code>HTML</code>、纯文本或者其他类型。所以，服务器现在可以发生任何类型给客户端，在引入不久之后，<code>HTTP</code> 中的 <code>&quot;Hyper Text&quot;</code> 成了误称，<code>HMTP</code> 或者 <code>Hypermeida transfer protocol</code> 是更准确的称呼，但是我猜测我们将会一直使用 <code>HTTP</code> 这个名称。</p><p><code>HTTP/1.0</code> 的一个主要缺点就是你不能在每一个连接中发送多个请求，也就是说，不管什么时候客户端向服务器请求数据，它都需要打开一个新的 <code>TCP</code> 连接，然后当这个请求被处理完毕之后，连接就会被关闭。然后下一次发送请求的时候，它需要重新打开一个新连接。为什么这样不行呢? 我们假设你访问一个网页，它有 10 张图片，5 个样式表以及 5 个 <code>javascript</code> 文件，当我们访问这个网页的时候，总共 20 个资源需要被获取。因为服务器每次处理完一个响应之后就关闭连接，因此会有 20 条单独的连接，对于每一个资源服务器都会创建一个连接。因为 <code>TCP</code> 连接的三次握手以及慢启动，每一个连接都会带来性能问题， 因此数目巨大的连接数会导致性能急剧下降。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="三次握手">三次握手<a class="hash-link" href="#三次握手" title="标题的直接链接">​</a></h3><p>在客户端和服务器交换它们的应用数据之前都需要经历 <code>TCP</code> 三次握手</p><ul><li><code>SYN</code>：客户端生成一个随机数，我们称之为 <code>x</code>，然后发送给服务器</li><li><code>SYN ACK</code>：服务器通过发送一个 <code>ACK x + 1</code> 包给客户端表示收到了 <code>x</code>，并且也会生成一个随机数，我们称之为 <code>y</code>，将其发送给客户端</li><li><code>ACK</code>：客户端返回 <code>ACK y + 1</code>，表示收到了服务端的数据</li></ul><p>一旦三次握手完成之后，客户端和服务器之间就开始发送数据。我们需要注意的是，当客户端发送完最后一个 <code>ACK</code> 信号之后，客户端也许会立马发送应用层数据，但是服务器仍然需要等待 <code>ACK</code> 包的到来之后才能处理请求。</p><p>然后，一个 <code>HTTP/1.0</code> 的实现通过引入一个称为 <code>Connection: keep-alive</code> 的新的头部来克服上述问题，这个头部的意思就是告诉服务器：“嗨服务器，不要关闭连接哦！我待会还有用”。但是它没有被广泛的支持，因此问题仍然存在。</p><p>除了是无连接之外，<code>HTTP</code> 还是一个无状态的协议，也就是说服务器不会保存客户端的信息，为了让服务器处理请求，每个请求都需要携带必要的信息，每个连接与之前的连接都没有关系。这更加的火上浇油了，不仅客户端需要建立大量的连接，而且每次都需要发送冗余的数据，这会增加带宽的使用。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http11---1999">HTTP/1.1 - 1999<a class="hash-link" href="#http11---1999" title="标题的直接链接">​</a></h2><p>在 <code>HTTP/1.0</code> 发布三年之后，下一个版本 <code>HTTP/1.1</code> 于 1999 年发布，在之前基础上做出了很多的改进。<code>HTTP/1.1</code> 主要的改进包括：</p><ul><li><p>添加了新的 <code>HTTP</code> 方法，包括 <code>PUT</code>, <code>PATCH</code>, <code>OPTIONS</code>, <code>DELETE</code></p></li><li><p>在 <code>HTTP/1.0</code> 中，<code>Host</code> 头部不是必须的，但是在 <code>HTTP/1.1</code> 中它是必须的。</p></li><li><p>持久连接，正如上文讨论的一样，在 <code>HTTP/1.0</code> 中，每一个连接只有一个请求，每当请求被处理完毕之后连接立马被关闭，这会造成性能的急剧下降以及时延问题。<code>HTTP/1.1</code> 引入了持久连接，也就是说连接默认不会关闭，它可以多个连续的请求。为了关闭连接，需要在请求中设置 <code>Connection: close</code>。客户端一般不会最后一个请求中发送此头部来关闭连接。</p></li><li><p>流水线，在 <code>HTTP/1.1</code> 中也引入了对流水线的支持，即在同一条连接中，客户端中可以同时发送多条请求而不必等待服务器做出响应，服务器必须按接收到请求的顺序做出响应。但是你可能会问，客户端是如何知道第一个响应接收完成了，下一个响应内容开始了。为了解决这个问题，我们必须使用 <code>Content-Length</code> 头部来表示响应体的数据有多长，这样客户端就可以根据接收到的数据长度来判断这个响应是否结束了。</p><p>需要注意的是，为了从持久连接和流水线中获益，在响应中携带 <code>Content-Length</code> 头部是必需的，因为通过它客户端就可以知道传输什么时候完成，客户端就可以发送下一个请求了(通常发送连续的请求)或者开始等待下一个响应数据(如果允许以流水线发送请求)</p><p>但是使用这种方法仍然有一个问题，当数据是动态的，服务器不清楚发送的数据有多长，这个时候怎么办? 在这种情况下，你就不能从持久连接中获得益处了！为了解决这个问题，<code>HTTP/1.1</code> 引入了分块编码(chunked encoding)。在这种情况下会省略 <code>Content-Length</code>，而支持分块编码(稍后再谈)。然后，如何它们两个都不可用，那么在该请求处理完毕之后连接就必须被关闭。</p></li><li><p>分块传输，当传输动态内容时，服务器不知道 <code>Conetnt-Length</code> 的值，服务器就会以块的形式发送数据(一块一块的发送数据)，并且发送的时候为每一个块添加 <code>Content-Length</code>。当所有的块被发送完毕之后，整个传输完成之后，服务器会发送一个空的块，它的 <code>Conetnt-Length</code> 大小被设置为 <code>0</code> 来指示传输已经完成了。为了通知客户端这个响应是分块传输的，服务器需要包含一个头部 <code>Transfer-Encoding: chunked</code>。</p></li><li><p>不像 HTTP/1.0 只有基本认证，HTTP/1.1 包括摘要和代理认证。</p></li><li><p>缓存</p></li><li><p>字节范围</p></li><li><p>字符集</p></li><li><p>语言协商</p></li><li><p>客户端 cookies</p></li><li><p>更强的压缩方式支持</p></li><li><p>新的状态码</p></li><li><p>...以及更多</p></li></ul><p>我不打算在这片文章中深入讲解关于 <code>HTTP/1.1</code> 的特性，因为它本身就是一个话题，你可以找到很多关于它的内容。我会推荐一篇文档给你 <a href="http://www.ra.ethz.ch/cdstore/www8/data/2136/pdf/pd1.pdf" target="_blank" rel="noopener noreferrer">Key differences between HTTP/1.0 and HTTP/1.1</a> 以及它的 <code>RFC</code> 文档链接 <a href="https://tools.ietf.org/html/rfc2616" target="_blank" rel="noopener noreferrer">origin RFC</a>。</p><p><code>HTTP/1.1</code> 是在 1999 年推出的，它已经是一个多年的标准。即使它相对于之前的版本做出了很大的改进，但是 web 每天都在变化，它开始表现的过时了。如今，加载一个网页比以前更耗费资源。如今的一个简单网页都需要打开超过 30 个连接。你可能会说，为什么 <code>HTTP/1.1</code> 都有持久连接了，还需要打开这么多连接呢? 原因是，在 <code>HTTP/1.1</code> 中，它在任何时候都只能有一个未决的连接。<code>HTTP/1.1</code> 试图通过引入流水线来解决这个问题，但它并没有完全解决这个问题，因为队头阻塞，一个耗时较长的请求可能会阻塞后面的请求，只有等待这个请求被服务器处理完毕以后，下一个请求才会被服务器处理。为了克服 <code>HTTP/1.1</code> 的缺点，开发者相出了一些变通的法子，例如使用精灵图，<code>CSS</code> 中的编码图像，单个巨大的 <code>CSS/JavaSCript</code> 文件，域名分片等等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="spdy---2009">SPDY - 2009<a class="hash-link" href="#spdy---2009" title="标题的直接链接">​</a></h2><p>Google 带头冲锋开始研究另一个协议来使网页更快，以及在减少网页时延的同时提高网页的安全性。在 2009 年，他们宣布了 <code>SPDY</code>。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><code>SPDY</code> 是 Google 的商标而不是缩写。</p></div></div><p>我们可以看到，如果我们持续的增加带宽，网络的性能在一开始会增加，一旦到达某个点后，性能的增益就不明显了。但是如果你对时延做同样的处理，如果我们不断的降低时延，就可以有一个稳定的性能增益。这就是 <code>SPDY</code> 获得性能增益背后的核心思想：减少时延来提高网络性能。</p><p> 我不打算讨论 <code>SPDY</code> 的细节，因为当我们在下一节讨论 <code>HTTP/2</code> 的细节时，你会明白的，因为我说过<code> HTTP/2</code> 的灵感主要来自 <code>SPDY</code>。</p><p><code>SPDY</code> 不是尝试要取代 <code>HTTP</code>，它是一个基于 <code>HTTP</code> 的转义层，它存在于应用层，在每次发送请求之前它会对请求进行更改。<code>SPDY</code> 已经开始成为事实上的标准，大多数浏览器开始实现它。</p><p>在 2015 年，Google 不想有两个竞争的标准，于是它们决定将其融入到 <code>HTTP</code> 中，这就导致了 <code>HTTP/2</code> 的诞生以及 <code>SPDY</code> 的废弃。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http2---2015">HTTP/2 - 2015<a class="hash-link" href="#http2---2015" title="标题的直接链接">​</a></h2><p>现在你一定明白我们为什么要对 <code>HTTP</code> 做一次修订。<code>HTTP/2</code> 被设计用来以低时延传输内容。与老版本 <code>HTTP/1.1</code> 不同的关键特性包括：</p><ul><li>二进制而不是文本</li><li>多路复用——在一条连接上发送多个异步请求</li><li>使用 <code>HPACK</code> 进行头部压缩</li><li>服务器推送——对于单个请求有多个响应</li><li>请求优先级</li><li>安全</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-二进制协议">1. 二进制协议<a class="hash-link" href="#1-二进制协议" title="标题的直接链接">​</a></h3><p><code>HTTP/2</code>  通过使用二进制协议来解决在 <code>HTTP/1.x</code> 中存在的高时延问题。二进制协议更容易被解析，虽然不像 <code>HTTP/1.x</code> 那样人眼可读。<code>HTTP/2</code> 的主要组成快是帧和流。</p><p><strong>帧和流：</strong></p><p><code>HTTP</code> 消息由一个或多个帧组成。头部帧用来传输元数据(meta data)，数据帧用来传递负载，存在几种不同的帧(<code>HEADERS</code>, <code>DATA</code>, <code>RST_STREAM</code>, <code>SETTINGS</code>, <code>PRIORITY</code> 等)。</p><p>每一个 <code>HTTP/2</code> 请求和响应都有一个唯一的流 ID (Stream ID)，一个流可以被分为多个帧，帧其实就是二进制数据。一个流包含多个帧。每一个帧都有一个流 ID 来表明它属于哪一个流，每一个帧都有一个公共的头部。除了唯一的流ID之外，还值得一提的是，由客户端发出请求的流使用奇数作为流ID，由服务器做出响应的流使用偶数作为流ID。</p><p>除了 <code>HEADERS</code> 和 <code>DATA</code>，其他帧类型中值得一提还有 <code>RST_STREAM</code>，它通常用来终止一些流。客户端会发送这个帧，让服务器知道它不在需要这个流了。在 <code>HTTP/1.1</code> 中让服务器终止发送响应给客户端的唯一方法就是关闭连接，但这会导致时延的增加，因为对于随后的请求它需要创建一个新的连接。但是在 <code>HTTP/2</code> 中，客户端可以使用 <code>RST_STREAM</code> 来阻止接收一个特定的流并且连接不会被关闭，其他的流仍然可以被传输。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-多路复用">2. 多路复用<a class="hash-link" href="#2-多路复用" title="标题的直接链接">​</a></h3><p>正如我所说，<code>HTTP/2</code> 是一个二进制协议，使用帧和流发送请求和响应，一旦 <code>TCP</code> 连接被打开，所有的流通过同一个连接异步的发送，不用打开新的连接。同样，服务器以同样异步的方式做出响应，每一个响应都是无序的，客户端使用赋予的流ID来识别流属于哪一个包。这解决在 <code>HTTP/1.x</code> 中存在的队头阻塞问题，也就是说，客户端不用那些花时间的请求阻塞，其他请求也可以得到处理。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-hpack-头部压缩">3. HPACK 头部压缩<a class="hash-link" href="#3-hpack-头部压缩" title="标题的直接链接">​</a></h3><p>它是一个单独的 RFC 的一部分，专门针对优化发送的头部。它的必要性在于，当我们不断的从一个客户端访问服务器时，我们每次都需要发送头部信息，每条请求的头部信息相差不大，意味着这些信息是冗余的，有的时候如果由 <code>cookie</code> 的话，会导致头部的大小增大，这会增大带宽的使用以及时延的增加。为了克服这点，<code>HTTP/2</code> 引入了头部压缩。</p><img loading="lazy" src="http://i.imgur.com/3IPWXvR.png" style="zoom:50%" class="img_ev3q"><p>与请求和响应不同，头文件不是以 <code>gzip</code> 或 <code>compress</code> 等格式压缩的，而是有一个不同的头文件压缩机制，即使用 <code>Huffman</code> 编码对字面值进行编码，并由客户和服务器维护一个头文件表，客户和服务器在随后的请求中省略任何重复的头文件（如用户代理等），并使用双方维护的头文件表来引用它们。</p><p>当我们在谈论头信息时，让我在这里补充一下，头信息仍然与<code>HTTP/1.1</code>相同，只是增加了一些伪头信息，如 <code>:method</code>, <code>:scheme</code>, <code>:host</code> 和 <code>:path</code>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-服务器推送">4. 服务器推送<a class="hash-link" href="#4-服务器推送" title="标题的直接链接">​</a></h3><p>服务器推送是 <code>HTTP/2</code> 的另一个巨大功能，即服务器在知道客户端将要求某种资源的情况下，可以将其推送给客户端，甚至无需客户端要求。例如，假设浏览器加载了一个网页，它解析整个页面，找出需要从服务器加载的远程内容，然后向服务器发送相应的请求以获得这些内容。</p><p>服务器推送允许服务器通过推送它知道客户将需要的数据来减少往返的次数。它是如何做到的，服务器发送一个特殊的帧，称为 <code>PUSH_PROMISE</code>，通知客户端：&quot;嘿，我即将把这个资源发送给你了！不要向我要了&quot;。<code>PUSH_PROMISE</code> 帧与导致推送发生的流有关，它包含流ID，即服务器将发送要推送的资源的流。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-请求优先级">5. 请求优先级<a class="hash-link" href="#5-请求优先级" title="标题的直接链接">​</a></h3><p>客户端可以通过在打开一个流的 <code>HEADERS</code> 帧中包含优先级信息来为一个流分配优先级。在任何其他时间，客户端可以发送一个 <code>PRIORITY</code> 帧来改变流的优先级。</p><p>在没有任何优先级信息的情况下，服务器以异步方式处理请求，即没有任何顺序。如果有优先权分配给一个流，那么基于这个优先权信息，服务器决定需要给多少资源来处理哪个请求。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-安全">6. 安全<a class="hash-link" href="#6-安全" title="标题的直接链接">​</a></h3><p>对于HTTP/2是否应该强制要求安全（通过 <code>TLS</code>），进行了广泛的讨论。最后，决定不把它作为强制性的。然而，大多数供应商表示，只有当 <code>HTTP/2</code> 通过 <code>TLS</code> 使用时，他们才会支持它。因此，虽然在规范中 <code>HTTP/2</code> 并不要求加密，但它已经成为一种默认的强制性。说到这里，<code>HTTP/2</code> 在 <code>TLS</code>上实现时确实提出了一些要求，即必须使用 <code>TLS 1.2</code> 版本或更高的版本，必须有一定程度的最小密钥大小，需要短暂的密钥等。</p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog"><div class="pagination-nav__label">较新的博文</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/3"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/CSS/CSS介绍">CSS</a></li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/LastKnightCoder" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Slides</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://lastknightcoder.github.io/slides-flex/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flex布局<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lastknightcoder.github.io/slides-grid/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grid布局<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lastknightcoder.github.io/slides-svg/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SVG<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lastknightcoder.github.io/slides-dissertation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">毕业论文<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f5c0cd1b.js"></script>
<script src="/assets/js/main.e1f02459.js"></script>
</body>
</html>